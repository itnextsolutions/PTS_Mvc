@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}





@model MVC_BugTracker.Models.RotationShift


<div class="justify-content-center" style="display:flex">
<form asp-action="Create">


    <div class="form-group">
        <label asp-for="Shift_type"></label>
        <input asp-for="Shift_type" class="form-control" placeholder="Enter Shift Name" required/>
        <span asp-validation-for="Shift_type" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="StartTime"></label>
        @* <input asp-for="StartTime" class="form-control" /> *@
            <input asp-for="StartTime" name="StartTime" class="form-control" required />

        <span asp-validation-for="StartTime" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="EndTime"></label>
            <input asp-for="EndTime" name="EndTime" class="form-control" required />
        <span asp-validation-for="EndTime" class="text-danger"></span>
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
</form>
</div>
<a asp-action="AllShift">Back to List</a>

<script>
    $(document).ready(function () {
        $('form').submit(function (event) {
            event.preventDefault();

            var form = $(this);

            $.ajax({
                url: form.attr('action'),
                type: form.attr('method'),
                data: form.serialize(),
                success: function (result) {
                    debugger
                    if (result.success) {
                        // Success
                        Swal.fire({
                            title: 'Success',
                            text: result.message,
                            icon: 'success',
                            // timer: 3000,
                        }).then(function () {
                            // Redirect or perform other actions after success
                            window.location.href = result.url;
                        });
                    } else {
                        // Error
                        Swal.fire({
                            title: 'Error',
                            text: result.errors,
                            icon: 'error',
                        });
                    }
                },
                error: function () {
                    // Handle AJAX error here
                }
            });
        });
    });
</script>